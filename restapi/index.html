<!DOCTYPE html>
<html>
  <head>
    <title>FatArtifacts</title>
    <link rel="stylesheet" href="../static/semantic-2.2.11.min.css">
    <script src="../static/jquery-3.2.1"></script>
    <script src="../static/semantic-2.2.11.min.css"></script>
    <link rel="stylesheet" href="../static/style.css">
    <style>
    body {
      margin-top: 30px;
    }
    img[align=left] {
      padding-right: 1em;
    }
    img[align=right] {
      padding-left: 1em;
    }
    .ui.text::after {
      clear: both;
      content: "";
    }
    .ui.footer.segment {
      margin: 5em 0em 0em;
      padding: 5em 0em;
    }
    pre {
      padding: 0.5em 1em;
      background-color: #eee;
      overflow: auto;
    }
    #disqus_thread {
      margin-top: 7em;
    }
    blockquote {
      font-style: italic;
      color: gray;
    }
    .ui.main img {
      max-width: 100%;
    }
    
    .ui.fixed.menu, .ui.footer.segment {
      background-color: #1677de;
    }
    
    </style>

    
  </head>
  <body>

    

    <!-- header -->
    <div class="ui fixed inverted menu">
      <div class="ui container">
        <span class="header item">
          <!--<img class="logo" src="assets/images/logo.png">-->
          FatArtifacts
        </span>
        
          
      
      
      
        <a href="../" class="item ">Home</a>
      
    
        
          
      
      
      
        <a href="../layers/" class="item ">Layers</a>
      
    
        
          
      
      
      
        <a href="./" class="item active">REST-Api</a>
      
    
        
          
      
      
      
        <a href="../restcli/" class="item ">REST-Cli</a>
      
    
        

      
        <!-- GitHub -->
        <a class="item right floated" href="https://github.com/NiklasRosenstein/fatartifacts"><i class="github icon"></i>NiklasRosenstein/fatartifacts</a>
      
      </div>
    </div>

    <div class="ui grid container main">
      <div class="twelve wide column">
        <!-- content -->
        <div class="ui text container">
          
            <h1>REST-Api</h1>
          
          <h2 id="api-documentation">API Documentation</h2>
<h3 id="get-info">GET <code>/info</code></h3>
<p>Returns REST-Api related information about the repository.</p>
<ul>
<li><code>numLevels</code>: The number of levels as specified by the configured database.
  This value defines the maximum number of elements in a location string and
  the level at which objects are stored.</li>
</ul>
<h3 id="get-location">GET <code>/location</code></h3>
<h3 id="get-locationlocation">GET <code>/location/&lt;location&gt;</code></h3>
<p>Returns the contents of the specified location and its child locations.</p>
<ul>
<li><code>status</code>: The string <code>Result</code> on success</li>
<li><code>location</code>: A LocationInfo (if the location is not an object)</li>
<li><code>object</code>: An ObjectInfo (if the location is an object)</li>
</ul>
<p><strong>LocationInfo</strong></p>
<ul>
<li><code>location</code>: The absolute location string.</li>
<li><code>metadata</code>: A JSON object of the location's metadata.</li>
<li><code>dataCreated</code>:</li>
<li><code>dateUpdated</code>:</li>
<li><code>children</code>: list of LocationInfo (only if the children are not objects)</li>
<li><code>objects</code>: list of ObjectInfo (only if the children are objects)</li>
</ul>
<p><strong>ObjectInfo</strong></p>
<ul>
<li><code>location</code>: The absolute location string.</li>
<li><code>metadata</code>: A JSON object of the object's metadata.</li>
<li><code>dataCreated</code>:</li>
<li><code>dateUpdated</code>:</li>
<li><code>filename</code>:</li>
<li><code>mime</code>:</li>
<li><code>url</code>:</li>
</ul>
<h3 id="put-locationlocation">PUT <code>/location/&lt;location&gt;</code></h3>
<p>Creates a location or updates it's metadata. Depending on whether <em>location</em>
is a namespace or an object, the format is different. The following headers
are supported/required:</p>
<ul>
<li><code>X-Update-If-Exists</code>: <code>1</code> if the location's metadata should be updated if it exists.</li>
<li><code>Content-Type</code>: <code>application/json</code> or not-set for namespace PUT requests,
  otherwise <code>application/vnd.fatartifacts+putobject</code>.</li>
<li><code>Content-Length</code>: The length of the upload payload (combined metadata and
  object content for object PUT requests).</li>
<li><code>X-Metadata-Length</code>: The length of the metadata the preceedes the content
  of the object (for object PUT requests only).</li>
<li><code>X-File-Name</code>: The name of the file that is being uploaded (for object
  PUT requests only).</li>
<li><code>X-File-ContentType</code>: The MIME type of the file that is being uploaded (for object
  PUT requests only).</li>
</ul>
<p>Example namespace PUT request:</p>
<div class="codehilite"><pre><span></span>$ curl -X PUT example-repo.org/location/example:test <span class="se">\</span>
  -H <span class="s1">&#39;X-Update-If-Exists: 1&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;description&quot;: &quot;This is the example:test namespace.&quot;}&#39;</span>
<span class="o">{</span><span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;Created&quot;</span>, <span class="s2">&quot;at&quot;</span>: <span class="s2">&quot;example:test&quot;</span><span class="o">}</span>
</pre></div>


<p>Example object PUT request:</p>
<div class="codehilite"><pre><span></span>$ curl -X PUT example-repo.org/location/example:test:1.0:txt <span class="se">\</span>
  -H <span class="s1">&#39;X-Update-If-Exists: 1&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;X-Metadata-Length: 37&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;X-File-Name: hello.txt&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;X-File-ContentType: text/plain&#39;</span> <span class="se">\</span>
  -H <span class="s1">&#39;Content-Type: application/vnd.fatartifacts+putobject&#39;</span> <span class="se">\</span>
  -d <span class="s1">&#39;{&quot;description&quot;: &quot;This is an object.&quot;}Hello, World!&#39;</span>
<span class="o">{</span><span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;Created&quot;</span>, <span class="s2">&quot;at&quot;</span>: <span class="s2">&quot;example:test:1.0:txt&quot;</span><span class="o">}</span>
</pre></div>


<h3 id="delete-locationlocation">DELETE <code>/location/&lt;location&gt;</code></h3>
<p>Deletes a namespace or an object.</p>
<ul>
<li><code>X-Recursive-Delete</code>: <code>1</code> if the location should be deleted recursively.</li>
</ul>
<p>Example DELETE request:</p>
<div class="codehilite"><pre><span></span>$ curl -X DELETE example-repo.org/location/example <span class="se">\</span>
  -H <span class="s1">&#39;X-Recursive-Delete: 1&#39;</span>
</pre></div>
        </div>

        <!-- disqus support -->
        
      </div>

      <!-- Table of contents -->
      <div class="four wide column">
        
        
          <h1>Table of Contents</h1>
          <div class="toc">
<ul>
<li><a href="#api-documentation">API Documentation</a><ul>
<li><a href="#get-info">GET /info</a></li>
<li><a href="#get-location">GET /location</a></li>
<li><a href="#get-locationlocation">GET /location/&lt;location&gt;</a></li>
<li><a href="#put-locationlocation">PUT /location/&lt;location&gt;</a></li>
<li><a href="#delete-locationlocation">DELETE /location/&lt;location&gt;</a></li>
</ul>
</li>
</ul>
</div>

        
      </div>
    </div>

    <!-- footer -->
    <div class="ui inverted vertical footer segment">
      <div class="ui center aligned container">
          
            <p>Copyright &copy; 2017  Niklas Rosenstein</p>
          
          <p>
             &mdash; 
            Generated with <a href="https://github.com/NiklasRosenstein/yassg">Yassg</a>
          </p>
      </div>
    </div>
  </body>
</html>